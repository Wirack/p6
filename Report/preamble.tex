\documentclass[10pt,a4paper,twoside]{memoir}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\graphicspath{{media/}}					% Directory that holds images.
\usepackage{lastpage}
\usepackage{afterpage}
\usepackage{lipsum}						% Lorem Ipsum
\usepackage{listings}
\usepackage{lstlinebgrd}
\usepackage[draft]{fixme}
\usepackage{url}
\usepackage{refcount}
\usepackage{caption}
\usepackage{subcaption}
\usepackage[bookmarks=true,		
			bookmarksopen=true,
			bookmarksnumbered=true,
			colorlinks=true,
			breaklinks=true,
			linkcolor=black,
			citecolor=black,
			urlcolor=black]{hyperref}	% Cross reference, clickable links and refs.


\definecolor{bluekeywords}{rgb}{0.13,0.13,1}
\definecolor{greencomments}{rgb}{0,0.5,0}
\definecolor{green}{rgb}{0,0.9,0}
\definecolor{redstrings}{rgb}{0.9,0,0}
\definecolor{lgray}{rgb}{0.86,0.86,0.86}
\definecolor{baige}{rgb}{0.92,0.92,0.92}
\definecolor{maroon}{rgb}{0.5,0.0,0.0}
\lstdefinestyle{specialJava}{language=Java,
  showspaces=false,
  showtabs=false,
  breaklines=true,
  showstringspaces=false,
  breakatwhitespace=true,
  escapeinside={(*@}{@*)},
  commentstyle=\color{greencomments},
  keywordstyle=\color{bluekeywords},
  stringstyle=\color{redstrings},
  basicstyle=\ttfamily\small,
  frame=tb,
  numbers=left, 
  stepnumber=1, 
  numberstyle=\tiny, 
  numbersep=10pt,
  captionpos = b,
  linebackgroundcolor={\ifodd\value{lstnumber}\color{lgray}\else\color{baige}\fi}
}
\lstset{style = specialJava}

\usepackage{refcount}

\newcommand{\pagedifference}[2]{%
  \number\numexpr\getpagerefnumber{#2}-\getpagerefnumber{#1}\relax} %To calculate the amount of pages between two pages

\newcommand{\figref}[1]{\hyperref[#1]{Figure \ref{#1}}} %Hyperref for figure
\newcommand{\tabref}[1]{\hyperref[#1]{Table \ref{#1}}} %Hyperref for table
\newcommand{\chapref}[1]{\hyperref[#1]{Chapter \ref{#1}}} %Hyperref for chapter
\newcommand{\secref}[1]{\hyperref[#1]{Section \ref{#1}}} %Hyperref for section
\newcommand{\subsecref}[1]{\hyperref[#1]{Subsection \ref{#1}}} %Hyperref for subsection
\newcommand{\lstref}[1]{\hyperref[#1]{List \ref{#1}}} %Hyperref for list
\newcommand{\appref}[1]{\hyperref[#1]{Appendix \ref{#1}}} %Hyperref for appendix
\renewcommand{\eqref}[1]{\hyperref[#1]{Equation (\ref{#1})}} %Hyperref for equation